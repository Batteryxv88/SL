"use strict";(self.webpackChunkjob=self.webpackChunkjob||[]).push([[785],{785:(e,n,r)=>{r.r(n),r.d(n,{default:()=>w});var t=r(893),o=r(739),c=r(649),s=r(294);const l="VXL_bxdg",a="DaRXkmDD",i="meQTkA7u";var u=r(998),d=r(954),h=r(536),m=function(){return m=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++)for(var o in n=arguments[r])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},m.apply(this,arguments)};const x=function(){var e=(0,s.useState)(""),n=e[0],r=e[1],o=(0,u.I0)(),x=(0,c.C)((function(e){return e.machines.tonerMachine}));(0,s.useEffect)((function(){fetch("https://worldtimeapi.org/api/timezone/Europe/Moscow").then((function(e){return e.json()})).then((function(e){return r(e.datetime)})).catch((function(e){console.log("Ошибка. Запрос не выполнен: ",e)}))}),[o]);var j=(0,h.cI)({mode:"onChange"}),v=j.register,p=j.formState.errors,f=j.handleSubmit,g=j.reset;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("form",{className:"vWOy0eKg",onSubmit:f((function(e){var r={color:e.color,man:e.man,counter:Number(e.counter),date:n,machine:x};o((0,d.sz)(r)),g()})),children:[(0,t.jsxs)("div",{className:l,children:[(0,t.jsx)("label",{children:"Цвет"}),(0,t.jsxs)("select",m({},v("color",{required:"Обязательное поле"}),{className:i,children:[(0,t.jsx)("option",{value:"C",children:"C"}),(0,t.jsx)("option",{value:"M",children:"M"}),(0,t.jsx)("option",{value:"Y",children:"Y"}),(0,t.jsx)("option",{value:"K",children:"K"})]}))]}),(0,t.jsxs)("div",{className:l,children:[(0,t.jsx)("label",{className:a,children:"Ответственный"}),(0,t.jsxs)("select",m({},v("man",{required:"Обязательное поле"}),{className:i,children:[(0,t.jsx)("option",{value:"Алексей",children:"Алексей"}),(0,t.jsx)("option",{value:"Максим",children:"Максим"}),(0,t.jsx)("option",{value:"Сергей",children:"Сергей"})]}))]}),(0,t.jsxs)("div",{className:l,children:[(0,t.jsx)("label",{className:a,children:"Счетчик"}),(0,t.jsx)("input",m({},v("counter",{required:"Обязательное поле",minLength:{value:5,message:"Минимум 5 символов"}}),{className:p.counter?"BKrwL7AR":i,type:"number"}))]}),(0,t.jsx)("button",{className:"UUtsvI2k",type:"submit",children:"Добавить"})]}),(0,t.jsx)("div",{className:"QUDdeSh6",children:(null==p?void 0:p.counter)&&(0,t.jsx)("p",{children:null==p?void 0:p.counter.message})||(null==p?void 0:p.man)&&(0,t.jsx)("p",{children:null==p?void 0:p.man.message})||(null==p?void 0:p.color)&&(0,t.jsx)("p",{children:null==p?void 0:p.color.message})})]})},j={toners:"k_021omC",box:"cKE9ibAw",color:"rxT_m9kE",counter:"MYTV3fh3",delete:"_Cw3C3Xm",h2:"V9yHoGNv"},v={tonerPart:"FG2tdlWS",dateBox:"W1efbD2q",colorBox:"C0KP47Uy",colorM:"QRujn3A3",colorC:"x4FqGhZV",colorY:"bOvyHYTd",colorK:"UvFk4V9X",counter:"uSM5ZzfL",man:"Le7eRnB9",buttonDelete:"mtuxakIn"};var p;function f(){return f=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},f.apply(this,arguments)}const g=function(e){return s.createElement("svg",f({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 24 24"},e),p||(p=s.createElement("path",{d:"M10 2 9 3H3v2h1.11l1.783 15.256v.008A2.011 2.011 0 0 0 7.875 22h8.248c.995 0 1.851-.75 1.982-1.736l.002-.008L19.891 5H21V3h-6l-1-1zM6.125 5h11.75l-1.752 15H7.875z"})))},N=function(e){var n=e.color,r=e.date,o=e.man,s=e.counter,l=e.id,a=new Date(r),i=a.toLocaleString("ru-RU",{month:"numeric"}),u=a.toLocaleString("ru-RU",{day:"2-digit"}),h=a.getFullYear(),m=(0,c.T)();return(0,t.jsxs)("div",{className:v.tonerPart,children:[(0,t.jsxs)("div",{className:v.colorBox,children:[(0,t.jsx)("p",{className:v.colorName,children:n}),(0,t.jsx)("div",{className:"C"===n?v.colorC:"M"===n?v.colorM:"Y"===n?v.colorY:"K"===n?v.colorK:""})]}),(0,t.jsx)("p",{className:v.counter,children:s}),(0,t.jsx)("p",{className:v.man,children:o}),(0,t.jsxs)("div",{className:v.dateBox,children:[(0,t.jsx)("p",{children:u+"."}),(0,t.jsx)("p",{children:i+"."}),(0,t.jsx)("p",{children:h})]}),(0,t.jsx)("button",{onClick:function(){return function(e){m((0,d.Op)(e))}(l)},className:v.buttonDelete,children:(0,t.jsx)(g,{})})]})};const b=function(){var e=(0,c.T)(),n=(0,c.C)((function(e){return e.machines.tonerMachine}));(0,s.useEffect)((function(){e((0,d.db)())}),[e]);var r,o,l=(r=(0,c.C)((function(e){return e.toners.tonersArray})),o=n,r&&0!==r.length?function(e,n,r){if(r||2===arguments.length)for(var t,o=0,c=n.length;o<c;o++)!t&&o in n||(t||(t=Array.prototype.slice.call(n,0,o)),t[o]=n[o]);return e.concat(t||Array.prototype.slice.call(n))}([],o?r.filter((function(e){return e.toner.machine===o})):r,!0).sort((function(e,n){return new Date(n.toner.date).getTime()-new Date(e.toner.date).getTime()})):[]);return(0,t.jsxs)("div",{className:j.toners,children:[(0,t.jsx)("h2",{className:j.h2,children:n}),(0,t.jsxs)("div",{className:j.box,children:[(0,t.jsx)("p",{className:j.color,children:"Цвет"}),(0,t.jsx)("p",{className:j.counter,children:"Счетчик"}),(0,t.jsx)("p",{className:j.man,children:"Ответственный"}),(0,t.jsx)("p",{className:j.date,children:"Дата"}),(0,t.jsx)("p",{className:j.delete,children:"Удалить"})]}),l.map((function(e){return(0,t.jsx)(N,{color:e.toner.color,counter:e.toner.counter,man:e.toner.man,date:e.toner.date,id:e.id},e.id)}))]})},w=function(){return(0,c.T)()((0,o.o)("toner")),(0,t.jsxs)("div",{children:[(0,t.jsx)(x,{}),(0,t.jsx)(b,{})]})}}}]);